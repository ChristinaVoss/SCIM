<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SCIM</title>
    <!-- FONTS -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700;900&display=swap" rel="stylesheet">
    {% assets "asset_css" %}
    <link rel="stylesheet" type="text/css" href="{{ ASSET_URL }}" media="screen"/>
    {% endassets %}

    <!-- ICONS -->
    <script type="module" src="https://unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule="" src="https://unpkg.com/ionicons@5.4.0/dist/ionicons/ionicons.js"></script>

  </head>
  <body>
    <div class="container"><!-- container holds entire page, used for CSS grid -->
      <!-- first child of container holds the header -->
      <header class="header small-screen-grid">
      {% if school.name %}
        <!-- user has finished set up already and given database the school name -->
        <h1 class="header__title medium_up"><!-- header title for medium screens and bigger -->
          School Club Information Manager <br>for {{school.name}}
        </h1>
        <h1 class="header__title--small">SCIM | {{school.name}}</h1><!-- header title for small screens -->
        {% if current_user.is_authenticated %}
        <nav class="hamburger"><!-- small screen navigation -->
          <input type="checkbox" class="hamburger__checkbox" id="hamburger__toggle">
          <label for="hamburger__toggle" class="hamburger__button">
            <span class="hamburger__icon">&nbsp;</span>
          </label>
          {% include "admin/navigation-small.html" %}
        </nav>
        {% endif %}
      {% else %}
        <!-- first use of product - it knows nothing about the school - desktop only (product is being setup/installed) -->
        <h1 class="header__title">
          Welcome to the <br>School Club information Manager
        </h1>
      {% endif %}

      {% if current_user.is_authenticated %}
        <a href="{{ url_for('users.logout')}}" class="header__link link medium_up">Log out</a>
      {% endif %}
    </header>
    <!-- second child of container (holds sidebar or user_authentication) depending on whether user is logged in-->
      {% if current_user.is_authenticated %}
      <!-- user is logged in -->
        {% include "admin/navigation.html" %}

      {% else %}
        <div class="user_authentication">

          {% block authentication %}
          {% endblock %}
        </div>
      {% endif %}
      <!-- third child of container holds main content-->
      <main class="main-content">
        <p id="test_current"></p>
        {% block content %}
          <!-- page specific content goes here -->
        {% endblock %}
      </main>
      {% include "admin/footer.html" %}
    </div>

  </body>
</html>
